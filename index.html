<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aplikasi Sekolah</title>

<style>
  body{
    margin:0;
    font-family: Arial, sans-serif;
    background:#f2f6ff;
  }

  .page{
    display:none;
    padding:15px;
    padding-bottom:70px;
  }

  .page.active{
    display:block;
  }

  h2{
    text-align:center;
    color:#1976d2;
  }

  /* FOOTER */
  footer{
    position:fixed;
    bottom:0;
    left:0;
    right:0;
    background:#1976d2;
    display:flex;
    justify-content:space-around;
    padding:10px 0;
    color:white;
    font-size:20px;
  }
  footer span{
    cursor:pointer;
  }

  /* KALENDER */
  .calendar{
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:5px;
    margin-top:10px;
  }

  .day{
    background:white;
    border-radius:8px;
    padding:6px;
    min-height:60px;
    font-size:12px;
  }

  .holiday{
    background:#ffe6e6;
  }

  .international{
    background:#fff3cd;
  }

  .posmar{
    background:#e3f2fd;
    border:2px solid #2196f3;
  }

  /* CHAT */
  #chatBox{
    background:white;
    border-radius:10px;
    padding:10px;
    height:250px;
    overflow-y:auto;
    margin-bottom:10px;
    font-size:14px;
  }

  textarea{
    width:100%;
    padding:8px;
    border-radius:8px;
  }

  button{
    margin-top:8px;
    background:#1976d2;
    color:white;
    border:none;
    padding:8px 12px;
    border-radius:8px;
    width:100%;
  }
</style>
</head>

<body>

<!-- HOME -->
<div id="home" class="page active">
  <h2>Home</h2>
  <p>Selamat datang di aplikasi sekolah üíô</p>
  <p>Silakan cek kalender atau sampaikan aspirasi kamu.</p>
</div>

<!-- KALENDER -->
<div id="calendar" class="page">
  <h2>Kalender 2026</h2>
  <div id="calendarBox" class="calendar"></div>
</div>

<!-- CHAT ASPIRASI -->
<div id="chat" class="page">
  <h2>Chat Aspirasi</h2>

  <div id="chatBox"></div>

  <textarea id="chatInput" placeholder="Tulis komentar / aspirasi..."></textarea>
  <button onclick="sendChat()">Kirim</button>
</div>

<!-- FOOTER -->
<footer>
  <span onclick="showPage('home')">üè†</span>
  <span onclick="showPage('calendar')">üìÖ</span>
  <span onclick="showPage('chat')">üí¨</span>
</footer>

<script>
/* NAVIGASI */
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

/* DATA KALENDER */
const events = {
  "2026-01-01": {text:"Tahun Baru", type:"holiday"},
  "2026-01-16": {text:"Isra Mi'raj", type:"posmar"},
  "2026-01-28": {text:"Expo Campus SPARK", type:"posmar"},
  "2026-02-17": {text:"Tahun Baru Imlek", type:"holiday"},
  "2026-03-20": {text:"Hari Kebahagiaan Internasional", type:"international"},
  "2026-08-17": {text:"Hari Kemerdekaan RI", type:"holiday"},
  "2026-12-25": {text:"Hari Raya Natal", type:"holiday"}
};

/* BUAT KALENDER JANUARI */
const calendarBox = document.getElementById("calendarBox");
for(let d=1; d<=31; d++){
  const date = `2026-01-${String(d).padStart(2,'0')}`;
  const div = document.createElement("div");
  div.className="day";
  div.innerHTML = `<strong>${d}</strong><br>`;

  if(events[date]){
    div.classList.add(events[date].type);
    div.innerHTML += events[date].text;
  }

  calendarBox.appendChild(div);
}

/* CHAT ASPIRASI (SATU KODE SAJA) */
const chatBox = document.getElementById("chatBox");
const chatInput = document.getElementById("chatInput");

function loadChat(){
  const chats = JSON.parse(localStorage.getItem("aspirasiChats")) || [];
  chatBox.innerHTML="";
  chats.forEach(c=>{
    const div=document.createElement("div");
    div.textContent="üí¨ "+c;
    div.style.marginBottom="6px";
    chatBox.appendChild(div);
  });
  chatBox.scrollTop=chatBox.scrollHeight;
}

function sendChat(){
  const text=chatInput.value.trim();
  if(!text) return;

  const chats=JSON.parse(localStorage.getItem("aspirasiChats"))||[];
  chats.push(text);
  localStorage.setItem("aspirasiChats",JSON.stringify(chats));

  chatInput.value="";
  loadChat();
}

loadChat();
</script>

</body>
</html>
